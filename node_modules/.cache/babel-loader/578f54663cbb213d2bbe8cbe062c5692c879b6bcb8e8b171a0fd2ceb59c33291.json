{"ast":null,"code":"import React from'react';import MetricCard from'./MetricCard';import ProcessList from'./ProcessList';import SystemInfo from'./SystemInfo';import{formatDistanceToNow}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=_ref=>{let{serverData,isConnected,isLoading}=_ref;if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:\"Loading server data...\"})]})});}if(!serverData){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"status-indicator status-offline\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:isConnected?'No data available':'Unable to connect to server'})]})});}const{cpu,memory,disk,processes,uptime,os,timestamp}=serverData;// Safely format the timestamp\nconst formatTimestamp=timestamp=>{try{const date=timestamp instanceof Date?timestamp:new Date(timestamp);if(isNaN(date.getTime())){return'Just now';}return formatDistanceToNow(date,{addSuffix:true});}catch(error){console.error('Error formatting timestamp:',error);return'Just now';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:`status-indicator ${isConnected?'status-online':'status-offline'}`}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[\"Server Status: \",isConnected?'Online':'Offline']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:[\"Last updated: \",formatTimestamp(timestamp)]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsx(MetricCard,{title:\"CPU Usage\",value:`${cpu.load.toFixed(1)}%`,subtitle:`${cpu.cores} cores • ${cpu.temperature.toFixed(1)}°C`,icon:\"cpu\",color:\"blue\",percentage:cpu.load}),/*#__PURE__*/_jsx(MetricCard,{title:\"Memory Usage\",value:`${(memory.used/memory.total*100).toFixed(1)}%`,subtitle:`${(memory.used/1024/1024/1024).toFixed(1)} GB / ${(memory.total/1024/1024/1024).toFixed(1)} GB`,icon:\"memory\",color:\"green\",percentage:memory.used/memory.total*100}),/*#__PURE__*/_jsx(MetricCard,{title:\"Disk Usage\",value:`${(disk.used/disk.total*100).toFixed(1)}%`,subtitle:`${(disk.used/1024/1024/1024).toFixed(1)} GB / ${(disk.total/1024/1024/1024).toFixed(1)} GB`,icon:\"disk\",color:\"purple\",percentage:disk.used/disk.total*100})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsx(SystemInfo,{uptime:uptime,os:os}),/*#__PURE__*/_jsx(ProcessList,{processes:processes})]})]});};export default Dashboard;","map":{"version":3,"names":["React","MetricCard","ProcessList","SystemInfo","formatDistanceToNow","jsx","_jsx","jsxs","_jsxs","Dashboard","_ref","serverData","isConnected","isLoading","className","children","cpu","memory","disk","processes","uptime","os","timestamp","formatTimestamp","date","Date","isNaN","getTime","addSuffix","error","console","title","value","load","toFixed","subtitle","cores","temperature","icon","color","percentage","used","total"],"sources":["/Users/shivam/Downloads/server-monitoring-main/src/components/Dashboard.tsx"],"sourcesContent":["import React from 'react';\nimport { ServerData } from '../types';\nimport MetricCard from './MetricCard';\nimport ProcessList from './ProcessList';\nimport SystemInfo from './SystemInfo';\nimport { formatDistanceToNow } from 'date-fns';\n\ninterface DashboardProps {\n  serverData: ServerData | null;\n  isConnected: boolean;\n  isLoading: boolean;\n}\n\nconst Dashboard: React.FC<DashboardProps> = ({ serverData, isConnected, isLoading }) => {\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            Loading server data...\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!serverData) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-center\">\n          <div className=\"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <div className=\"status-indicator status-offline\" />\n          </div>\n          <p className=\"text-gray-600 dark:text-gray-400\">\n            {isConnected ? 'No data available' : 'Unable to connect to server'}\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  const { cpu, memory, disk, processes, uptime, os, timestamp } = serverData;\n\n  // Safely format the timestamp\n  const formatTimestamp = (timestamp: Date | string) => {\n    try {\n      const date = timestamp instanceof Date ? timestamp : new Date(timestamp);\n      if (isNaN(date.getTime())) {\n        return 'Just now';\n      }\n      return formatDistanceToNow(date, { addSuffix: true });\n    } catch (error) {\n      console.error('Error formatting timestamp:', error);\n      return 'Just now';\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Status Bar */}\n      <div className=\"card\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className={`status-indicator ${isConnected ? 'status-online' : 'status-offline'}`} />\n            <span className=\"font-medium\">\n              Server Status: {isConnected ? 'Online' : 'Offline'}\n            </span>\n          </div>\n          <div className=\"text-sm text-gray-600 dark:text-gray-400\">\n            Last updated: {formatTimestamp(timestamp)}\n          </div>\n        </div>\n      </div>\n\n      {/* Main Metrics Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        <MetricCard\n          title=\"CPU Usage\"\n          value={`${cpu.load.toFixed(1)}%`}\n          subtitle={`${cpu.cores} cores • ${cpu.temperature.toFixed(1)}°C`}\n          icon=\"cpu\"\n          color=\"blue\"\n          percentage={cpu.load}\n        />\n        \n        <MetricCard\n          title=\"Memory Usage\"\n          value={`${((memory.used / memory.total) * 100).toFixed(1)}%`}\n          subtitle={`${(memory.used / 1024 / 1024 / 1024).toFixed(1)} GB / ${(memory.total / 1024 / 1024 / 1024).toFixed(1)} GB`}\n          icon=\"memory\"\n          color=\"green\"\n          percentage={(memory.used / memory.total) * 100}\n        />\n        \n        <MetricCard\n          title=\"Disk Usage\"\n          value={`${((disk.used / disk.total) * 100).toFixed(1)}%`}\n          subtitle={`${(disk.used / 1024 / 1024 / 1024).toFixed(1)} GB / ${(disk.total / 1024 / 1024 / 1024).toFixed(1)} GB`}\n          icon=\"disk\"\n          color=\"purple\"\n          percentage={(disk.used / disk.total) * 100}\n        />\n      </div>\n\n      {/* System Information and Processes */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <SystemInfo uptime={uptime} os={os} />\n        <ProcessList processes={processes} />\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}